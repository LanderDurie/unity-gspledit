\chapter{Feature Propagation}

\label{feature-propagation}

With the Gaussian splat linked to a mesh, the next step is to propagate and edit the properties of each Gaussian point based on the mesh's structure and transformations.

Each Gaussian point has the following properties:

\begin{lstlisting}[language=C++, caption={Gaussian Point Structure}, label={lst:gaussian_properties}]
struct GaussianPoint {
    V3 position;
    vec3 covariance;
    float opacity;      // Transparency level
    SHComponents sh;    // Spherical Harmonic coefficients
};
\end{lstlisting}

\begin{itemize}
    \item \textbf{Position}: The 3D spatial location of the point.
    \item \textbf{Rotation}: The orientation of the point, often combined with scale into a transformation matrix.
    \item \textbf{Scale}: Typically represented as a 3Ã—2 covariance matrix when combined with rotation.
    \item \textbf{Opacity}: The transparency level of the point, affecting its visual representation.
    \item \textbf{Spherical Harmonics (SH) Components}: Coefficients that describe how light interacts with the point, enabling advanced lighting effects.
\end{itemize}

These properties must be dynamically adjusted based on the properties of the mesh at points connected to by the forward links.

\section{Available Information from Forward Links}

Since the forward links use triangle anchors, they provide a lots of useful information:

\subsection*{Base Information}
\begin{itemize}
    \item \textbf{The Triangle}: Each link is associated with a specific triangle on the mesh surface.
    \item \textbf{Barycentric Coordinates}: The barycentric coordinates of the link point relative to the triangle.
    \item \textbf{Surface Normal}: The normal vector of the triangle, representing its orientation in 3D space.
\end{itemize}

\subsection*{Derived Information}
\begin{itemize}
    \item \textbf{Vertex Properties}: Since the triangle is defined by its three vertices, the properties of these vertices (e.g., position, color, texture) are directly accessible.
    \item \textbf{Interpolated Anchor Properties}: Using the barycentric coordinates, it is possible to interpolate between the vertex properties to compute the properties at the exact anchor point.
\end{itemize}

This combination of base and derived information ensures that the Gaussian splat can access detailed data about its immediate environment on the mesh.

\section{Creating a Propagation Function}

To effectively propagate features, the next step is to design a function that combines information from multiple forward links with the original properties of the Gaussian point. This function should:

\begin{itemize}
    \item Aggregate the properties of linked anchor points using the weights associated with each link.
    \item Incorporate the original Gaussian point properties to maintain consistency.
    \item Return an updated Gaussian point with modified properties based on the mesh context.
\end{itemize}

The function should be optimized for efficiency, taking advantage of precomputed weights and link data to minimize computational overhead during runtime. This approach will ensure seamless integration of Gaussian splat and mesh properties, enabling dynamic updates and realistic simulations.
